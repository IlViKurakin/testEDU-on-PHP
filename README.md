# testEDU-on-PHP
Проект системы проведения онлайн-тестирования с многофункциональной административной панелью

Web-сайт написан на HTML/CSS и PHP, управление базой данных осуществляется через PHP myAdmin.

База данных имеет схему сравнения utf8mb4_general_ci.
В базе данных имеется таблица с вопросами questions, все вопросы разбиты на категории. Таблица questions имеет следующую структуру: id(int, ai, primary key), category_id(int), question_text(text), option1(varchar), option2(varchar), option3(varchar), option4(varchar), correct_option(int). Таблица имеет схему сравнения utf8mb4_general_ci.

Необходимые и обязательные требования к проекту:
1. Название проекта: «Погружение в продукт: тест знаний»
2. В форме регистрации нужно добавить  следующие поля с подписями и подсказками (placeholder): 
•  Имя и фамилия (сразу в одном поле)
•  Должность (выбор из выпадающего списка)
•  Подразделение (выбор из выпадающего списка)
•  Филиал (выбор из выпадающего списка)
•  Адрес электронной почты (при проверке адреса электронной почты, необходимо учитывать, чтобы окончание адреса было @top-academy.ru)
3.  В базе данных в таблице questions уже имеется 203 вопроса . Каждый вопрос предполагает 4 варианта ответа, и только 1 из них правильный. Все вопросы разделены на 10 категорий:
1. МКА+ПШ
2. ШС
3. Travel
4. ПКО
5. Каникулярные программы
6. Школа
7. ВУЗ
8. Сад
9. Спецкурсы
10. Колледж
    
4. Пользователю предстоит ответить на 50 случайных вопросов, которые выпадают рандомно в соответствии со следующим правилом:
МКА+ПШ: 7 случайных вопросов
ШС:  5 случайных вопросов
Travel: 3 случайных вопроса
ПКО: 7 случайных вопросов
Каникулярные программы: 5 случайных вопросов
Школа: 5 случайных вопросов
ВУЗ: 3 случайных вопроса
Сад: 3 случайных вопроса
Спецкурсы: 7 случайных вопросов
Колледж: 5 случайных вопросов
5.  Порог для прохождения теста - 40 правильных ответов (то есть, не менее 80% правильных ответов).
6.  На прохождение теста пользователю дается только 1 попытка.
7.  После успешного прохождения регистрации пользователь должен сразу попадать  в свой личный кабинет.
8.  После прохождения тестирования в личном кабинете пользователя НЕ ДОЛЖНЫ показываться его ответы (как правильные, так и неправильные), но необходимо дать информацию: 
•	% по тесту (результат), сколько правильных и неправильных ответов
•	подпись «Пройдено успешно»  или «Тест не сдан»
9.  После ответа на последний 50-ый вопрос, необходимо сделать уведомление пользователю: "Поздравляем с окончанием прохождения теста! Ознакомьтесь с результатом". 
10.  Таймера на прохождении нет. В случае внезапного прекращения тестирования по техническим или организационным причинам пользователю нужно дать возможность прохождения теста с места, на котором он остановился.
11.  Административная панель предполагает предоставление всей полной информации по пользователям:
•	Имя и фамилия (сразу в одном поле)
•	Должность (выбор из выпадающего списка)
•	Подразделение (выбор из выпадающего списка)
•	Филиал (выбор из выпадающего списка)
•	Адрес электронной почты
•	Дату и время регистрации на сайте (по московскому времени)

12.  Администратор должен видеть, кто уже прошел тестирование, а кто еще не завершил в соответствии со следующими статусами:
•	Тест не начат
•	В процессе
•	Тест завершен
Группа пользователей, соответственно, должна разбиваться на указанные группы.
13. Администратору должна быть доступна полная информация по пройденному тесту каждого пользователя:
•	Время и дату прохождения тестирования
•	Результаты со списком правильных и неправильных ответов

14.  Администратор должен иметь возможность фильтрации (выборки) пользователей по степени завершения теста (статусу), результату тестирования (положительный или отрицательный), по должности, филиалу, подразделению, дате прохождения теста.
15.  Необходимо реализовать возможность выгрузки в Excel всех результатов прохождения теста с подробной информацией по каждому пользователю.
16.  В административной панели необходимо реализовать редактирование данных пользователей, в том числе регистрационных, возможность удаления аккаунтов. Администратор должен иметь возможность обнулить результаты прохождения теста пользователем.
17.  В административной панели необходимо реализовать возможность редактирования базы данных вопросов для теста:
•	Создание новых вопросов
•	Редактирование существующих вопросов, вариантов ответов к ним и правильного варианта
•	Удаление существующих вопросов


========== Структура базы данных: ==========
(помимо существующей таблицы questions, нам понадобятся дополнительные таблицы)

CREATE TABLE `users` (
  `id` int NOT NULL AUTO_INCREMENT,
  `full_name` varchar(100) NOT NULL,
  `position` varchar(50) NOT NULL,
  `department` varchar(50) NOT NULL,
  `branch` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `registration_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

CREATE TABLE `test_results` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `start_time` datetime DEFAULT NULL,
  `end_time` datetime DEFAULT NULL,
  `score` int DEFAULT NULL,
  `status` enum('not_started','in_progress','completed') NOT NULL DEFAULT 'not_started',
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `test_results_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

CREATE TABLE `user_answers` (
  `id` int NOT NULL AUTO_INCREMENT,
  `result_id` int NOT NULL,
  `question_id` int NOT NULL,
  `answer` int NOT NULL,
  `is_correct` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `result_id` (`result_id`),
  KEY `question_id` (`question_id`),
  CONSTRAINT `user_answers_ibfk_1` FOREIGN KEY (`result_id`) REFERENCES `test_results` (`id`) ON DELETE CASCADE,
  CONSTRAINT `user_answers_ibfk_2` FOREIGN KEY (`question_id`) REFERENCES `questions` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;


========== Файловая структура проекта: ==========

/pogruzhenie-v-produkt/
├── assets/
│   ├── css/
│   │   └── style.css
│   └── js/
│       └── script.js
├── includes/
│   ├── config.php
│   ├── db.php
│   ├── auth.php
│   ├── functions.php
│   └── header.php
├── admin/
│   ├── index.php
│   ├── users.php
│   ├── results.php
│   ├── questions.php
│   └── export.php
├── test/
│   ├── start.php
│   ├── question.php
│   └── result.php
├── profile.php
├── register.php
├── login.php
├── logout.php
└── index.php
